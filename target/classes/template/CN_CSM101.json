<#include "public.ftl">
<#setting number_format="#">
{
	"MessageHead": {
    "MessageID": ${translateStr(messageBody.bodyElement.title.decId+"_"+messageBody.bodyElement.title.arrivalStatus+"_"+messageHead.messageID!'')},
    "FunctionCode": {
      "Value": 2
    },
    "MessageType": "CSM101",
    "SenderID": ${translateStr(messageHead.senderID!'')},
    "ReceiverID": "0000",
    "SendTime": {
      "Value": ${translateStr(messageHead.sendTime!'')}
    },
    "Version": {
      "Value": 0
    }
  },
  "MessageBody": {
    "Declaration": {
      "DocDeclaration": {
        "GeneralDeclaration": {
          "IMO": ${translateStr(messageBody.bodyElement.title.imo!'')},
          "I_E_Flag": ${translateStr(messageBody.bodyElement.title.arrivalStatus!'')},
          "Voyage": ${translateStr(messageBody.bodyElement.title.arrivalSailings!'')},
          "Port": ${translateStr(messageBody.bodyElement.title.decPort!'')},
          "CrewNum": ${translateNum(messageBody.bodyElement.title.crew!'')},
          "PassengersNum": ${translateNum(messageBody.bodyElement.title.psng!'')},
          "DeadWeightDraft": ${translateNum(messageBody.bodyElement.title.draft!'')},
          "BussinessType": ${translateStr(messageBody.bodyElement.title.custServiceType!'')},
          "PurposeOfCall": ${translateStr(messageBody.bodyElement.title.purpose!'')},
          "LeaserCoName": ${translateStr(messageBody.bodyElement.title.shipOperatorCode!'')},
          "LeaserCoType": ${translateNum(messageBody.bodyElement.title.shipOperatorProperties!'')},
          "ManageLine": ${translateStr(messageBody.bodyElement.title.operatingRoute!'')},
          "VesselDate":  ${translateStr(translateDate(messageBody.bodyElement.title.dateArrivalDeparture!'',
'yyyy-MM-dd HH:mm:ss','yyyyMMddHHmm+08')!'')},
          "AgentCorp": ${translateStr(messageBody.bodyElement.title.decPerson!'')},
          "AgentCorpAddress": ${translateStr(messageBody.bodyElement.title.decAddress!'')},
          "Declarer": null,
          "DeclareDate": ${translateStr(translateDate(messageBody.bodyElement.title.dateDec!'','yyyy-MM-dd HH:mm:ss','yyyyMMdd')!'')},
          "Memo": ${translateStr(messageBody.bodyElement.title.remarks!'')}
        },
        "CargoDeclaration":
        <#if ((messageBody.bodyElement.goodsInfos??)&(messageBody.bodyElement.goodsInfos?size gt 0))>[
				<#list messageBody.bodyElement.goodsInfos as goods>

          {
            "SeqNo": ${goods_index+1},
            "LoadingPort": ${translateStr(goods.loadingPort!'')},
            "DischagedPort": ${translateStr(goods.unloadingPort!'')},
            "SignMark": ${translateStr(goods.markingCode!'')},
            "CargoType": ${translateStr(goods.goodsType!'')},
            "ContainModal": ${translateStr(goods.containerSizeType!'')},
            "EquipmentLoadedStatus": ${translateNum(goods.heavyBoxContainerIdCode!'')},
            "Wrap": ${translateStr(goods.packageTypeCode!'')},
            "Qty": ${translateNum(goods.quantityOfGoods!'')},
            "FunctionDesc": ${translateStr(goods.cargoSummary!'')},
            "GrossWeight": ${translateNum(goods.gross!'')},
            "Unit": ${translateStr(goods.quantityUnit!'')},
            "Memo": ${translateStr(goods.remarks!'')}
          } <#if goods_has_next>,</#if>
    		</#list>
    		]
    		<#else>
    		null
    		</#if>,
        "StoresDeclaration":
        <#if ((messageBody.bodyElement.shipReses??)&(messageBody.bodyElement.shipReses?size gt 0))>[
				<#list messageBody.bodyElement.shipReses as res>
          {
            "SeqNo": ${res_index+1},
            "GoodsType": ${translateStr(res.itemKind!'')},
            "GoodsName": ${translateStr(res.itemName!'')},
            "GoodsQty": ${translateNum(res.itemCount!'')},
            "GoodsUnit": ${translateStr(res.quantityUnit!'')},
            "Depositary": ${translateStr(res.storageLocation!'')},
            "Memo": ${translateStr(res.remarks!'')}
          }<#if res_has_next>,</#if>
    		</#list>
    		]
    		<#else>
    		null
    		</#if>,
        "CrewList":
        <#if ((messageBody.bodyElement.crews??)&(messageBody.bodyElement.crews?size gt 0))>[
				<#list messageBody.bodyElement.crews as crew>
          {
            "SeqNo": ${crew_index+1},
            "Name": ${translateStr(crew.name!'')},
            "Gender": ${translateStr(crew.sex!'')},
            "Nationality": ${translateStr(crew.nationality!'')},
            "DutyProfession": ${translateStr(crew.title!'')},
            "Birthday": ${translateStr(translateDate(crew.birthDate!'','yyyy-MM-dd HH:mm:ss','yyyyMMdd')!'')},
            "Address": ${translateStr(crew.birthPlace!'')},
            "CertificateType": ${translateStr(crew.crewCertificateType!'')},
            "CertificateNo": ${translateStr(crew.crewIdId!'')},
            "Memo": ${translateStr(crew.remarks!'')}
          }<#if crew_has_next>,</#if>
    		</#list>
    		]
    		<#else>
    		null
    		</#if>,
        "CrewsEffectsDeclaration":
        <#if ((messageBody.bodyElement.crewReses??)&(messageBody.bodyElement.crewReses?size gt 0))>[
				<#list messageBody.bodyElement.crewReses as crewRes>
          {
            "SeqNo": ${crewRes_index+1},
            "CrewCertificateType": ${translateStr(crewRes.crewCertificateType!'')},
            "CrewCertificateNo": ${translateStr(crewRes.crewIdId!'')},
            "GoodsType": ${translateStr(crewRes.itemType!'')},
            "GoodsName": ${translateStr(crewRes.itemName!'')},
            "GoodsQty": ${translateNum(crewRes.itemCount!'')},
            "GoodsUnit": ${translateStr(crewRes.unit!'')},
            "Memo": ${translateStr(crewRes.remarks!'')}
          }<#if crewRes_has_next>,</#if>
    		</#list>
    		]
    		<#else>
    		null
    		</#if>,
        "PortList": <#if ((messageBody.bodyElement.sailings??)&(messageBody.bodyElement.sailings?size gt 0))>[
				<#list messageBody.bodyElement.sailings as sailing>
          {
            "SeqNo": ${sailing_index+1},
            "Port": ${translateStr(sailing.dockPort!'')},
            "ArrivalDateTime": ${translateStr(translateDate(sailing.dateArrival!'','yyyy-MM-dd HH:mm:ss','yyyyMMddHHmm+08')!'')},
            "DepartureDateTime":${translateStr(translateDate(sailing.dateDeparture!'','yyyy-MM-dd HH:mm:ss','yyyyMMddHHmm+08')!'')},
            "Memo": ${translateStr(sailing.remarks!'')}
          }<#if sailing_has_next>,</#if>
    		</#list>
    		]
    		<#else>
    		null
    		</#if>,
        "EmptyCont": <#if ((messageBody.bodyElement.coastalCntns??)&(messageBody.bodyElement.coastalCntns?size gt 0))>[
				<#list messageBody.bodyElement.coastalCntns as coastalCntn>
          {
            "SeqNo": ${coastalCntn_index+1},
            "OldImportVessel": ${translateStr(coastalCntn.originalEntryShips!'')},
            "OldImportVoyage": ${translateStr(coastalCntn.originalEntrySailings!'')},
            "OldImportDate": ${translateStr(translateDate(coastalCntn.dateOriginalOfEntry!'','yyyy-MM-dd','yyyyMMdd')!'')},
            "ContaID": ${translateStr(coastalCntn.cargoId!'')},
            "ContaType": ${translateStr(coastalCntn.containerSizeType!'')},
            "LoadingPort": ${translateStr(coastalCntn.loadingPort!'')},
            "DischagedPort": ${translateStr(coastalCntn.unloadingPort!'')},
            "Memo": ${translateStr(coastalCntn.remarks!'')}
          }<#if coastalCntn_has_next>,</#if>
    		</#list>
    		]
    		<#else>
    		null
    		</#if>,
        "InternalTradeCargo": <#if ((messageBody.bodyElement.contanerShips??)&(messageBody.bodyElement.contanerShips?size gt 0))>[
				<#list messageBody.bodyElement.contanerShips as contaner>
          {
            "SeqNo": ${contaner_index+1},
            "BillNo": ${translateStr(contaner.ladingBill!'')},
            "ContaID": ${translateStr(contaner.cargeId!'')},
            "ContaType": ${translateStr(contaner.containerSizeType!'')},
            "ContaNum": ${translateNum(contaner.naturalBoxId!'')},
            "SealNo": ${translateStr(contaner.leadTitle!'')},
            "GName": ${translateStr(contaner.goodsName!'')},
            "GrossWeight": ${translateNum(contaner.gross!'')},
            "ConsigneeName": ${translateStr(contaner.consignee!'')},
            "ConsignorName": ${translateStr(contaner.consignor!'')},
            "LoadingPort": ${translateStr(contaner.loadingPort!'')},
            "DischagedPort": ${translateStr(contaner.unloadingPort!'')},
            "Memo": ${translateStr(contaner.remarks!'')}
          }<#if contaner_has_next>,</#if>
    		</#list>
    		]
    		<#else>
    		null
    		</#if>,
        "ChangeCustomsCargo": <#if ((messageBody.bodyElement.generalGoods??)&(messageBody.bodyElement.generalGoods?size gt 0))>[
				<#list messageBody.bodyElement.generalGoods as generalGood>
          {
            "SeqNo": ${generalGood_index+1},
            "FormID": ${translateStr(generalGood.transitOrderId!'')},
            "ContaType": ${translateStr(generalGood.containerSizeType!'')},
            "ContaNum": ${translateNum(generalGood.naturalBox!'')},
            "LoadingPort": ${translateStr(generalGood.loadingPort!'')},
            "DischangedPort": ${translateStr(generalGood.unloadingPort!'')},
            "Memo": ${translateStr(generalGood.remarks!'')}
          }<#if generalGood_has_next>,</#if>
    		</#list>
    		]
    		<#else>
    		null
    		</#if>,
        "DangerDeclaration": <#if ((messageBody.bodyElement.dangerGoods??)&(messageBody.bodyElement.dangerGoods?size gt 0))>[
				<#list messageBody.bodyElement.dangerGoods as dangerGood>
          {
            "SeqNo": ${dangerGood_index+1},
            "FormID": ${translateStr(dangerGood.billOfLadingId!'')},
            "SignNo": ${translateStr(dangerGood.logoContainerLicenseId!'')},
            "QtySort": ${translateStr(dangerGood.packagesCountKind!'')},
            "TransportName": ${translateStr(dangerGood.transportName!'')},
            "Sort": ${translateStr(dangerGood.category!'')},
            "UnNo": ${translateStr(dangerGood.unitedNationsEncoding!'')},
            "PackageType": ${translateStr(dangerGood.packageKind!'')},
            "SecondDanger": ${translateStr(dangerGood.viceRisk!'')},
            "Flash": ${translateStr(dangerGood.flashPoint!'')},
            "InfectantSea": ${translateNum(dangerGood.ifMarinePollutant!'')},
            "Weight": ${translateNum(dangerGood.weight!'')},
            "LeashUpStepNo": ${translateStr(dangerGood.emergencyMeasures!'')},
            "LoadPosition": ${translateStr(dangerGood.positionOnBoard!'')},
            "Memo": ${translateStr(dangerGood.remarks!'')}
          }<#if dangerGood_has_next>,</#if>
    		</#list>
    		]
    		<#else>
    		null
    		</#if>
        },
      "Xmlns": 26,
      "DataModelVersion": 0,
      "Version": 0
    }
  }
}

